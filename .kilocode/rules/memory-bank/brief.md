# lipunto - Корректор раскладки клавиатуры

## Основная цель проекта

Проект lipunto представляет собой утилиту для автоматической коррекции опечаток, вызванных переключением раскладки клавиатуры между английской и русской языками.

## Ключевые особенности

- Автоматическое преобразование текста между английской и русской раскладками
- Интеграция с KDE Plasma через глобальные горячие клавиши
- Поддержка двух режимов работы: коррекция последнего слова перед курсором и коррекция выделенного текста
- Использование ydotool для эмуляции ввода клавиш
- Интеграция с системным буфером обмена через qdbus
- Опциональное отображение уведомлений после конвертации
- Гибкая система конфигурации через аргументы командной строки и переменные окружения
- Многоуровневое логирование с возможностью отключения для производительности

## Технические требования

- Python 3.13.5
- ydotool (для эмуляции ввода)
- qdbus (для работы с буфером обмена KDE)
- kdialog (для отображения уведомлений)
- KDE Plasma (для глобальных горячих клавиш)

## Основные компоненты

1. [`switch_layout.py`](switch_layout.py) - основной Python скрипт с логикой преобразования текста
2. [`config_manager.py`](config_manager.py) - менеджер конфигурации на основе Pydantic
3. [`clipboard_utils.py`](clipboard_utils.py) - утилиты для работы с буфером обмена
4. [`keyboard_layouts.py`](keyboard_layouts.py) - словари для преобразования символов
5. [`logger.py`](logger.py) - система логирования
6. [`sw_last.sh`](sw_last.sh), [`sw_selected.sh`](sw_selected.sh) - shell скрипты-обертки
7. [`lipunto.kksrc`](lipunto.kksrc) - конфигурация KDE для глобальных горячих клавиш
8. [`input-event-codes.h`](input-event-codes.h) - заголовочный файл с кодами клавиш Linux

## Глобальные горячие клавиши

- Pause - коррекция последнего слова
- Shift+Pause - коррекция выделенного текста
